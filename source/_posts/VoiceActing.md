---
title: VoiceActing
date: 2019-04-25 11:35:33
tags:
	- App
	- RxSwift

---


# VoiceActing

这是一个给视频添加配音和音效的小工具，是从去年做的一个App里摘出来的，主要应用了AVKit的功能，使用MVVM响应式框架构建(RxSwift)。对于想要了解AVKit相关功能，或者响应式框架如何去写的同学，应该都有不小的帮助。

![.](VoiceActing.jpeg)

原版本可以提供素材从网络下载编辑、可以改变配音音调、上传发布分享等功能，已经被去掉了。为了保持简单，只能从相册里选择本地视频添加配音，添加完成后直接保存到相册。

其中选择相册功能来自于[10000ui](https://github.com/blurryssky/10000ui)

## 配音:

![.](VoiceActing0.gif)

选择视频后，会自动提取视频帧放置在编辑轨道上，轨道长度与视频时长对应。可以直接点击视频帧左右拖拉改变视频长度和起始位置。

按住或者点击配音按钮都可以开始录音，录音时轨道上会出现录音色块，色块会随着视频时间增长。录音完毕后，可以拖动色块改变录音位置，也可以左右拖拉色块改变录音长度和起始位置。

## 音效:

![.](VoiceActing1.gif)

点击底部菜单切换按钮进入音效选择，点击音效icon可以立即听到音效声音，并且添加色块，色块未被收起状态连续点击时，会替换当前选择的音效。音效可以添加多个，也和录音一样可以左右拖动。

## 通用功能

色块具有一些通用功能，比如左右拖动和改变长度。点击时会进入选择状态，底部会出现工具栏，可以调整该色块的音量，也可以删除该色块和对应的音。

## sample地址

### [VoiceActing](https://github.com/blurryssky/VoiceActing)
